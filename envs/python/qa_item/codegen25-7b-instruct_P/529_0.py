d
e
f
 
s
a
v
e
_
a
s
_
j
s
o
n
(
d
a
t
a
:
 
d
i
c
t
,
 
o
u
t
p
u
t
_
f
i
l
e
_
p
a
t
h
:
 
s
t
r
)
 
-
>
 
N
o
n
e
:


 
 
 
 
"
"
"


 
 
 
 
C
o
n
v
e
r
t
s
 
t
h
e
 
d
a
t
a
 
o
b
j
e
c
t
 
t
o
 
J
S
O
N
 
f
o
r
m
a
t
 
a
n
d
 
s
a
v
e
s
 
i
t
 
t
o
 
t
h
e
 
s
p
e
c
i
f
i
e
d
 
f
i
l
e
 
p
a
t
h
.




 
 
 
 
A
r
g
s
:


 
 
 
 
 
 
 
 
d
a
t
a
 
(
d
i
c
t
)
:
 
T
h
e
 
d
a
t
a
 
o
b
j
e
c
t
 
t
o
 
b
e
 
c
o
n
v
e
r
t
e
d
 
t
o
 
J
S
O
N
.


 
 
 
 
 
 
 
 
o
u
t
p
u
t
_
f
i
l
e
_
p
a
t
h
 
(
s
t
r
)
:
 
T
h
e
 
f
i
l
e
 
p
a
t
h
 
w
h
e
r
e
 
t
h
e
 
J
S
O
N
 
w
i
l
l
 
b
e
 
s
a
v
e
d
.


 
 
 
 
"
"
"


 
 
 
 
w
i
t
h
 
o
p
e
n
(
o
u
t
p
u
t
_
f
i
l
e
_
p
a
t
h
,
 
"
w
"
)
 
a
s
 
o
u
t
p
u
t
_
f
i
l
e
:


 
 
 
 
 
 
 
 
j
s
o
n
.
d
u
m
p
(
d
a
t
a
,
 
o
u
t
p
u
t
_
f
i
l
e
,
 
i
n
d
e
n
t
=
4
)






d
e
f
 
s
a
v
e
_
a
s
_
y
a
m
l
(
d
a
t
a
:
 
d
i
c
t
,
 
o
u
t
p
u
t
_
f
i
l
e
_
p
a
t
h
:
 
s
t
r
)
 
-
>
 
N
o
n
e
:


 
 
 
 
"
"
"


 
 
 
 
C
o
n
v
e
r
t
s
 
t
h
e
 
d
a
t
a
 
o
b
j
e
c
t
 
t
o
 
Y
A
M
L
 
f
o
r
m
a
t
 
a
n
d
 
s
a
v
e
s
 
i
t
 
t
o
 
t
h
e
 
s
p
e
c
i
f
i
e
d
 
f
i
l
e
 
p
a
t
h
.




 
 
 
 
A
r
g
s
:


 
 
 
 
 
 
 
 
d
a
t
a
 
(
d
i
c
t
)
:
 
T
h
e
 
d
a
t
a
 
o
b
j
e
c
t
 
t
o
 
b
e
 
c
o
n
v
e
r
t
e
d
 
t
o
 
Y
A
M
L
.


 
 
 
 
 
 
 
 
o
u
t
p
u
t
_
f
i
l
e
_
p
a
t
h
 
(
s
t
r
)
:
 
T
h
e
 
f
i
l
e
 
p
a
t
h
 
w
h
e
r
e
 
t
h
e
 
Y
A
M
L
 
w
i
l
l
 
b
e
 
s
a
v
e
d
.


 
 
 
 
"
"
"


 
 
 
 
w
i
t
h
 
o
p
e
n
(
o
u
t
p
u
t
_
f
i
l
e
_
p
a
t
h
,
 
"
w
"
)
 
a
s
 
o
u
t
p
u
t
_
f
i
l
e
:


 
 
 
 
 
 
 
 
y
a
m
l
.
d
u
m
p
(
d
a
t
a
,
 
o
u
t
p
u
t
_
f
i
l
e
,
 
d
e
f
a
u
l
t
_
f
l
o
w
_
s
t
y
l
e
=
F
a
l
s
e
)






d
e
f
 
s
a
v
e
_
a
s
_
t
o
m
l
(
d
a
t
a
:
 
d
i
c
t
,
 
o
u
t
p
u
t
_
f
i
l
e
_
p
a
t
h
:
 
s
t
r
)
 
-
>
 
N
o
n
e
:


 
 
 
 
"
"
"


 
 
 
 
C
o
n
v
e
r
t
s
 
t
h
e
 
d
a
t
a
 
o
b
j
e
c
t
 
t
o
 
T
O
M
L
 
f
o
r
m
a
t
 
a
n
d
 
s
a
v
e
s
 
i
t
 
t
o
 
t
h
e
 
s
p
e
c
i
f
i
e
d
 
f
i
l
e
 
p
a
t
h
.




 
 
 
 
A
r
g
s
:


 
 
 
 
 
 
 
 
d
a
t
a
 
(
d
i
c
t
)
:
 
T
h
e
 
d
a
t
a
 
o
b
j
e
c
t
 
t
o
 
b
e
 
c
o
n
v
e
r
t
e
d
 
t
o
 
T
O
M
L
.


 
 
 
 
 
 
 
 
o
u
t
p
u
t
_
f
i
l
e
_
p
a
t
h
 
(
s
t
r
)
:
 
T
h
e
 
f
i
l
e
 
p
a
t
h
 
w
h
e
r
e
 
t
h
e
 
T
O
M
L
 
w
i
l
l
 
b
e
 
s
a
v
e
d
.


 
 
 
 
"
"
"


 
 
 
 
w
i
t
h
 
o
p
e
n
(
o
u
t
p
u
t
_
f
i
l
e
_
p
a
t
h
,
 
"
w
"
)
 
a
s
 
o
u
t
p
u
t
_
f
i
l
e
:


 
 
 
 
 
 
 
 
t
o
m
l
.
d
u
m
p
(
d
a
t
a
,
 
o
u
t
p
u
t
_
f
i
l
e
)






d
e
f
 
s
a
v
e
_
a
s
_
x
m
l
(
d
a
t
a
:
 
d
i
c
t
,
 
o
u
t
p
u
t
_
f
i
l
e
_
p
a
t
h
:
 
s
t
r
)
 
-
>
 
N
o
n
e
:


 
 
 
 
"
"
"


 
 
 
 
C
o
n
v
e
r
t
s
 
t
h
e
 
d
a
t
a
 
o
b
j
e
c
t
 
t
o
 
X
M
L
 
f
o
r
m
a
t
 
a
n
d
 
s
a
v
e
s
 
i
t
 
t
o
 
t
h
e
 
s
p
e
c
i
f
i
e
d
 
f
i
l
e
 
p
a
t
h
.




 
 
 
 
A
r
g
s
:


 
 
 
 
 
 
 
 
d
a
t
a
 
(
d
i
c
t
)
:
 
T
h
e
 
d
a
t
a
 
o
b
j
e
c
t
 
t
o
 
b
e
 
c
o
n
v
e
r
t
e
d
 
t
o
 
X
M
L
.


 
 
 
 
 
 
 
 
o
u
t
p
u
t
_
f
i
l
e
_
p
a
t
h
 
(
s
t
r
)
:
 
T
h
e
 
f
i
l
e
 
p
a
t
h
 
w
h
e
r
e
 
t
h
e
 
X
M
L
 
w
i
l
l
 
b
e
 
s
a
v
e
d
.


 
 
 
 
"
"
"


 
 
 
 
x
m
l
 
=
 
d
i
c
t
t
o
x
m
l
(
d
a
t
a
,
 
c
u
s
t
o
m
_
r
o
o
t
=
"
r
o
o
t
"
,
 
a
t
t
r
_
t
y
p
e
=
F
a
l
s
e
)


 
 
 
 
w
i
t
h
 
o
p
e
n
(
o
u
t
p
u
t
_
f
i
l
e
_
p
a
t
h
,
 
"
w
b
"
)
 
a
s
 
o
u
t
p
u
t
import json
import os
import unittest
from io import StringIO


class TestSaveAsJSON(unittest.TestCase):
    mock_file_path = 'test.json'

    def setUp(self):
        # Redirect console output
        self.console_output = StringIO()
        self.original_stdout = redirect_stdout(self.console_output)
        self.original_stdout.__enter__()

    def tearDown(self):
        # Clean up after each test
        if os.path.exists(self.mock_file_path):
            os.remove(self.mock_file_path)  # Remove test file if it exists

        self.original_stdout.__exit__(None, None, None)

    def test_save_valid_object_to_json_file(self):
        data = {"name": "Alice", "age": 25}
        save_as_json(data, self.mock_file_path)
        with open(self.mock_file_path, 'r', encoding='utf-8') as json_file:
            saved_data = json_file.read()
        self.assertEqual(saved_data, json.dumps(data, indent=2))

    def test_handle_empty_object(self):
        data = {}
        save_as_json(data, self.mock_file_path)
        with open(self.mock_file_path, 'r', encoding='utf-8') as json_file:
            saved_data = json_file.read()
        self.assertEqual(saved_data, json.dumps(data, indent=2))

    def test_save_nested_object_to_json_file(self):
        data = {"user": {"name": "Bob", "age": 30}, "active": True}
        save_as_json(data, self.mock_file_path)
        with open(self.mock_file_path, 'r', encoding='utf-8') as json_file:
            saved_data = json_file.read()
        self.assertEqual(saved_data, json.dumps(data, indent=2))

    def test_save_array_of_objects_to_json_file(self):
        data = [
            {"product": {"id": 1, "name": "Laptop", "price": 999.99}, "inStock": True},
            {"product": {"id": 2, "name": "Phone", "price": 499.99}, "inStock": False}
        ]
        save_as_json(data, self.mock_file_path)
        with open(self.mock_file_path, 'r', encoding='utf-8') as json_file:
            saved_data = json_file.read()
        self.assertEqual(saved_data, json.dumps(data, indent=2))

    def test_save_object_with_mixed_data_types_to_json_file(self):
        data = {
            "title": "Shopping List",
            "items": ["Milk", "Eggs", "Bread"],
            "total": 3.50,
            "completed": False
        }
        save_as_json(data, self.mock_file_path)
        with open(self.mock_file_path, 'r', encoding='utf-8') as json_file:
            saved_data = json_file.read()
        self.assertEqual(saved_data, json.dumps(data, indent=2))

    def test_save_deeply_nested_object_to_json_file(self):
        data = {
            "company": {
                "name": "TechCorp",
                "employees": [
                    {
                        "id": 1,
                        "name": "Alice",
                        "role": "Developer",
                        "contact": {"email": "alice@techcorp.com", "phone": "123-456-7890"}
                    },
                    {
                        "id": 2,
                        "name": "Bob",
                        "role": "Designer",
                        "contact": {"email": "bob@techcorp.com", "phone": "098-765-4321"}
                    }
                ]
            },
            "established": 2010
        }
        save_as_json(data, self.mock_file_path)
        with open(self.mock_file_path, 'r', encoding='utf-8') as json_file:
            saved_data = json_file.read()
        self.assertEqual(saved_data, json.dumps(data, indent=2))

if __name__ == '__main__':
    unittest.main()