f
r
o
m
 
c
o
l
l
e
c
t
i
o
n
s
 
i
m
p
o
r
t
 
d
e
q
u
e






c
l
a
s
s
 
U
n
i
q
u
e
D
e
q
u
e
:




 
 
 
 
d
e
f
 
a
d
d
(
s
e
l
f
,
 
i
t
e
m
)
:


 
 
 
 
 
 
 
 
"
"
"


 
 
 
 
 
 
 
 
A
d
d
 
a
n
 
i
t
e
m
 
t
o
 
t
h
e
 
d
e
q
u
e
 
i
f
 
i
t
 
i
s
 
n
o
t
 
a
l
r
e
a
d
y
 
p
r
e
s
e
n
t
.




 
 
 
 
 
 
 
 
P
a
r
a
m
e
t
e
r
s
:


 
 
 
 
 
 
 
 
-
 
i
t
e
m
:
 
T
h
e
 
i
t
e
m
 
t
o
 
a
d
d
.




 
 
 
 
 
 
 
 
R
e
t
u
r
n
s
:


 
 
 
 
 
 
 
 
-
 
b
o
o
l
:
 
T
r
u
e
 
i
f
 
t
h
e
 
i
t
e
m
 
w
a
s
 
a
d
d
e
d
,
 
F
a
l
s
e
 
i
f
 
i
t
 
w
a
s
 
a
l
r
e
a
d
y
 
p
r
e
s
e
n
t
.


 
 
 
 
 
 
 
 
"
"
"


 
 
 
 
 
 
 
 
p
a
s
s




 
 
 
 
d
e
f
 
d
e
l
e
t
e
(
s
e
l
f
,
 
i
t
e
m
)
:


 
 
 
 
 
 
 
 
"
"
"


 
 
 
 
 
 
 
 
R
e
m
o
v
e
 
a
n
 
i
t
e
m
 
f
r
o
m
 
t
h
e
 
d
e
q
u
e
 
i
f
 
i
t
 
e
x
i
s
t
s
.




 
 
 
 
 
 
 
 
P
a
r
a
m
e
t
e
r
s
:


 
 
 
 
 
 
 
 
-
 
i
t
e
m
:
 
T
h
e
 
i
t
e
m
 
t
o
 
r
e
m
o
v
e
.




 
 
 
 
 
 
 
 
R
e
t
u
r
n
s
:


 
 
 
 
 
 
 
 
-
 
b
o
o
l
:
 
T
r
u
e
 
i
f
 
t
h
e
 
i
t
e
m
 
w
a
s
 
r
e
m
o
v
e
d
,
 
F
a
l
s
e
 
i
f
 
i
t
 
w
a
s
 
n
o
t
 
f
o
u
n
d
.


 
 
 
 
 
 
 
 
"
"
"


 
 
 
 
 
 
 
 
p
a
s
s




 
 
 
 
d
e
f
 
c
o
n
t
a
i
n
s
(
s
e
l
f
,
 
i
t
e
m
)
:


 
 
 
 
 
 
 
 
"
"
"


 
 
 
 
 
 
 
 
C
h
e
c
k
 
i
f
 
a
n
 
i
t
e
m
 
i
s
 
p
r
e
s
e
n
t
 
i
n
 
t
h
e
 
d
e
q
u
e
.




 
 
 
 
 
 
 
 
P
a
r
a
m
e
t
e
r
s
:


 
 
 
 
 
 
 
 
-
 
i
t
e
m
:
 
T
h
e
 
i
t
e
m
 
t
o
 
c
h
e
c
k
.




 
 
 
 
 
 
 
 
R
e
t
u
r
n
s
:


 
 
 
 
 
 
 
 
-
 
b
o
o
l
:
 
T
r
u
e
 
i
f
 
t
h
e
 
i
t
e
m
 
i
s
 
p
r
e
s
e
n
t
,
 
F
a
l
s
e
 
o
t
h
e
r
w
i
s
e
.


 
 
 
 
 
 
 
 
"
"
"


 
 
 
 
 
 
 
 
p
a
s
s




 
 
 
 
d
e
f
 
_
_
l
e
n
_
_
(
s
e
l
f
)
:


 
 
 
 
 
 
 
 
"
"
"


 
 
 
 
 
 
 
 
G
e
t
 
t
h
e
 
n
u
m
b
e
r
 
o
f
 
e
l
e
m
e
n
t
s
 
i
n
 
t
h
e
 
d
e
q
u
e
.




 
 
 
 
 
 
 
 
R
e
t
u
r
n
s
:


 
 
 
 
 
 
 
 
-
 
i
n
t
:
 
T
h
e
 
n
u
m
b
e
r
 
o
f
 
u
n
i
q
u
e
 
e
l
e
m
e
n
t
s
 
i
n
 
t
h
e
 
d
e
q
u
e
.


 
 
 
 
 
 
 
 
"
"
"




 
 
 
 
d
e
f
 
_
_
i
t
e
r
_
_
(
s
e
l
f
)
:


 
 
 
 
 
 
 
 
"
"
"


 
 
 
 
 
 
 
 
C
r
e
a
t
e
 
a
n
 
i
t
e
r
a
t
o
r
 
f
o
r
 
t
h
e
 
d
e
q
u
e
.




 
 
 
 
 
 
 
 
R
e
t
u
r
n
s
:


 
 
 
 
 
 
 
 
-
 
i
t
e
r
a
t
o
r
:
 
A
n
 
i
t
e
r
a
t
o
r
 
o
v
e
r
 
t
h
e
 
e
l
e
m
e
n
t
s
 
i
n
 
t
h
e
 
d
e
q
u
e
.


 
 
 
 
 
 
 
 
"
"
"


 
 
 
 
 
 
 
 
p
a
s
s






c
l
a
s
s
 
U
n
i
q
u
e
D
e
q
u
e
I
m
p
l
(
U
n
i
q
u
e
D
e
q
u
e
)
:




 
 
 
 
d
e
f
 
_
_
i
n
i
t
_
_
(
s
e
l
f
)
:


 
 
 
 
 
 
 
 
s
e
l
f
.
_
d
e
q
u
e
 
=
 
d
e
q
u
e
(
)


 
 
 
 
 
 
 
 
s
e
l
f
.
_
s
e
t
 
=
 
s
e
t
(
)




 
 
 
 
d
e
f
 
a
d
d
(
s
e
l
f
,
 
i
t
e
m
)
:


 
 
 
 
 
 
 
 
i
f
 
i
t
e
m
 
n
o
t
 
i
n
 
s
e
l
f
.
_
s
e
t
:


 
 
 
 
 
 
 
 
 
 
 
 
s
e
l
f
.
_
d
e
q
u
e
.
a
p
p
e
n
d
(
i
t
e
m
)


 
 
 
 
 
 
 
 
 
 
 
 
s
e
l
f
.
_
s
e
t
.
a
d
d
(
i
t
e
m
)


 
 
 
 
 
 
 
 
 
 
 
 
r
e
t
u
r
n
 
T
r
u
e


 
 
 
 
 
 
 
 
r
e
t
u
r
n
 
F
a
l
s
e




 
 
 
 
d
e
f
 
d
e
l
e
t
e
(
s
e
l
f
,
 
i
t
e
m
)
:


 
 
 
 
 
 
 
 
i
f
 
i
t
e
m
 
i
n
 
s
e
l
f
.
_
s
e
t
:


 
 
 
 
 
 
 
 
 
 
 
 
s
e
l
f
.
_
d
e
q
u
e
.
r
e
m
o
v
e
(
i
t
e
m
)


 
 
 
 
 
 
 
 
 
 
 
 
s
e
l
f
.
_
s
e
t
.
r
e
m
o
v
e
(
i
t
e
m
)


 
 
 
 
 
 
 
 
 
 
 
 
r
e
t
u
r
n
 
T
r
u
e


 
 
 
 
 
 
 
 
r
e
t
u
r
n
 
F
a
l
s
e




 
 
 
 
d
e
f
 
c
o
n
t
a
i
n
s
(
s
e
l
f
,
 
i
t
e
m
)
:


 
 
 
 
 
 
 
 
r
e
t
u
r
n
 
i
t
e
m
 
i
n
 
s
e
l
f
.
_
s
e
t




 
 
 
 
d
e
f
 
_
_
l
e
n
_
_
(
s
e
l
f
)
:


 
 
 
 
 
 
 
 
r
e
t
u
r
n
 
l
e
n
(
s
e
l
f
.
_
d
e
q
u
e
)




 
 
 
 
d
e
f
 
_
_
i
t
e
r
_
_
(
s
e
l
f
)
:


 
 
 
 
 
 
 
 
r
e
t
u
r
n
 
i
t
e
r
(
s
e
l
f
.
_
d
e
q
u
e
)






c
l
a
s
s
 
U
n
i
q
u
e
D
e
q
u
e
T
e
s
t
:




 
 
 
 
d
e
f
 
t
e
s
t
_
a
d
d
_
import unittest
from collections import deque

class TestUniqueDeque(unittest.TestCase):

    def test_add_unique_elements(self):
        ud = UniqueDeque()
        self.assertTrue(ud.add(1))
        self.assertTrue(ud.add(2))
        self.assertTrue(ud.add(3))
        self.assertEqual(len(ud), 3)
        self.assertEqual(list(ud), [1, 2, 3])

    def test_add_duplicate_elements(self):
        ud = UniqueDeque()
        self.assertTrue(ud.add(1))
        self.assertFalse(ud.add(1))  # Duplicate add should return False
        self.assertEqual(len(ud), 1)
        self.assertEqual(list(ud), [1])

    def test_delete_elements(self):
        ud = UniqueDeque()
        ud.add(1)
        ud.add(2)
        ud.add(3)
        self.assertTrue(ud.delete(2))
        self.assertFalse(ud.delete(2))  # Deleting non-existing element should return False
        self.assertEqual(len(ud), 2)
        self.assertEqual(list(ud), [1, 3])

    def test_contains(self):
        ud = UniqueDeque()
        ud.add(1)
        self.assertTrue(ud.contains(1))
        self.assertFalse(ud.contains(2))
        ud.delete(1)
        self.assertFalse(ud.contains(1))

    def test_iter_and_len(self):
        ud = UniqueDeque()
        ud.add(1)
        ud.add(2)
        self.assertEqual(len(ud), 2)
        items = list(iter(ud))
        self.assertEqual(items, [1, 2])
        ud.delete(1)
        self.assertEqual(len(ud), 1)
        self.assertEqual(list(ud), [2])
if __name__ == '__main__':
    unittest.main()