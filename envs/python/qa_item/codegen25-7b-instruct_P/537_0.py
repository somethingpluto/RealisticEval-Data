d
e
f
 
g
e
t
_
t
i
m
e
(
)
 
-
>
 
s
t
r
:


 
 
 
 
"
"
"


 
 
 
 
G
e
t
s
 
t
h
e
 
c
u
r
r
e
n
t
 
t
i
m
e
 
f
o
r
m
a
t
t
e
d
 
a
s
 
'
h
h
:
m
m
 
A
M
/
P
M
'
.




 
 
 
 
R
e
t
u
r
n
s
:


 
 
 
 
 
 
 
 
s
t
r
:
 
T
h
e
 
f
o
r
m
a
t
t
e
d
 
t
i
m
e
 
s
t
r
i
n
g
.


 
 
 
 
"
"
"


 
 
 
 
r
e
t
u
r
n
 
d
a
t
e
t
i
m
e
.
n
o
w
(
)
.
s
t
r
f
t
i
m
e
(
"
%
I
:
%
M
 
%
p
"
)






d
e
f
 
g
e
t
_
d
a
t
e
(
)
 
-
>
 
s
t
r
:


 
 
 
 
"
"
"


 
 
 
 
G
e
t
s
 
t
h
e
 
c
u
r
r
e
n
t
 
d
a
t
e
 
f
o
r
m
a
t
t
e
d
 
a
s
 
'
M
M
/
D
D
/
Y
Y
Y
Y
'
.




 
 
 
 
R
e
t
u
r
n
s
:


 
 
 
 
 
 
 
 
s
t
r
:
 
T
h
e
 
f
o
r
m
a
t
t
e
d
 
d
a
t
e
 
s
t
r
i
n
g
.


 
 
 
 
"
"
"


 
 
 
 
r
e
t
u
r
n
 
d
a
t
e
t
i
m
e
.
n
o
w
(
)
.
s
t
r
f
t
i
m
e
(
"
%
m
/
%
d
/
%
Y
"
)






d
e
f
 
g
e
t
_
t
i
m
e
_
d
a
t
e
(
)
 
-
>
 
s
t
r
:


 
 
 
 
"
"
"


 
 
 
 
G
e
t
s
 
t
h
e
 
c
u
r
r
e
n
t
 
t
i
m
e
 
a
n
d
 
d
a
t
e
 
f
o
r
m
a
t
t
e
d
 
a
s
 
'
M
M
/
D
D
/
Y
Y
Y
Y
 
h
h
:
m
m
 
A
M
/
P
M
'
.




 
 
 
 
R
e
t
u
r
n
s
:


 
 
 
 
 
 
 
 
s
t
r
:
 
T
h
e
 
f
o
r
m
a
t
t
e
d
 
t
i
m
e
 
a
n
d
 
d
a
t
e
 
s
t
r
i
n
g
.


 
 
 
 
"
"
"


 
 
 
 
r
e
t
u
r
n
 
d
a
t
e
t
i
m
e
.
n
o
w
(
)
.
s
t
r
f
t
i
m
e
(
"
%
m
/
%
d
/
%
Y
 
%
I
:
%
M
 
%
p
"
)






d
e
f
 
g
e
t
_
t
i
m
e
_
d
a
t
e
_
s
l
a
s
h
(
)
 
-
>
 
s
t
r
:


 
 
 
 
"
"
"


 
 
 
 
G
e
t
s
 
t
h
e
 
c
u
r
r
e
n
t
 
t
i
m
e
 
a
n
d
 
d
a
t
e
 
f
o
r
m
a
t
t
e
d
 
a
s
 
'
M
M
/
D
D
/
Y
Y
Y
Y
 
h
h
:
m
m
 
A
M
/
P
M
'
.




 
 
 
 
R
e
t
u
r
n
s
:


 
 
 
 
 
 
 
 
s
t
r
:
 
T
h
e
 
f
o
r
m
a
t
t
e
d
 
t
i
m
e
 
a
n
d
 
d
a
t
e
 
s
t
r
i
n
g
.


 
 
 
 
"
"
"


 
 
 
 
r
e
t
u
r
n
 
d
a
t
e
t
i
m
e
.
n
o
w
(
)
.
s
t
r
f
t
i
m
e
(
"
%
m
/
%
d
/
%
Y
 
%
I
:
%
M
 
%
p
"
)






d
e
f
 
g
e
t
_
t
i
m
e
_
d
a
t
e
_
d
a
s
h
(
)
 
-
>
 
s
t
r
:


 
 
 
 
"
"
"


 
 
 
 
G
e
t
s
 
t
h
e
 
c
u
r
r
e
n
t
 
t
i
m
e
 
a
n
d
 
d
a
t
e
 
f
o
r
m
a
t
t
e
d
 
a
s
 
'
M
M
-
D
D
-
Y
Y
Y
Y
 
h
h
:
m
m
 
A
M
/
P
M
'
.




 
 
 
 
R
e
t
u
r
n
s
:


 
 
 
 
 
 
 
 
s
t
r
:
 
T
h
e
 
f
o
r
m
a
t
t
e
d
 
t
i
m
e
 
a
n
d
 
d
a
t
e
 
s
t
r
i
n
g
.


 
 
 
 
"
"
"


 
 
 
 
r
e
t
u
r
n
 
d
a
t
e
t
i
m
e
.
n
o
w
(
)
.
s
t
r
f
t
i
m
e
(
"
%
m
-
%
d
-
%
Y
 
%
I
:
%
M
 
%
p
"
)






d
e
f
 
g
e
t
_
t
i
m
e
_
d
a
t
e
_
d
a
s
h
_
s
l
a
s
h
(
)
 
-
>
 
s
t
r
:


 
 
 
 
"
"
"


 
 
 
 
G
e
t
s
 
t
h
e
 
c
u
r
r
e
n
t
 
t
i
m
e
 
a
n
d
 
d
a
t
e
 
f
o
r
m
a
t
t
e
d
 
a
s
 
'
M
M
-
D
D
-
Y
Y
Y
Y
 
h
h
:
m
m
 
A
M
/
P
M
'
.




 
 
 
 
R
e
t
u
r
n
s
:


 
 
 
 
 
 
 
 
s
t
r
:
 
T
h
e
 
f
o
r
m
a
t
t
e
d
 
t
i
m
e
 
a
n
d
 
d
a
t
e
 
s
t
r
i
n
g
.


 
 
 
 
"
"
"


 
 
 
 
r
e
t
u
r
n
 
d
a
t
e
t
i
m
e
.
n
o
w
(
)
.
s
t
r
f
t
i
m
e
(
"
%
m
-
%
d
-
%
Y
 
%
I
:
%
M
 
%
p
"
)






d
e
f
 
g
e
t
_
t
i
m
e
_
d
a
t
e
_
d
a
s
h
_
s
l
a
s
h
_
s
p
a
c
e
(
)
 
-
>
 
s
t
r
:


 
 
 
 
"
"
"


 
 
 
 
G
e
t
s
 
t
h
e
 
c
u
r
r
e
n
t
 
t
i
m
e
 
a
n
d
 
d
a
t
e
 
f
o
r
m
a
t
t
e
d
 
a
s
 
'
M
M
-
import unittest
from datetime import datetime
from unittest.mock import patch


class TestGetTime(unittest.TestCase):

    def mock_datetime(self, date_string):
        """Mock the datetime to return a specific date."""
        class MockDate(datetime):
            @classmethod
            def now(cls):
                return datetime.strptime(date_string, '%Y-%m-%dT%H:%M:%S')

        return MockDate

    @patch('datetime.datetime', new_callable=lambda: datetime)
    def test_should_return_a_string(self, mock_datetime):
        mock_datetime.now = self.mock_datetime('2024-10-01T10:30:00').now
        result = get_time()
        self.assertIsInstance(result, str)

    @patch('datetime.datetime', new_callable=lambda: datetime)
    def test_should_return_formatted_time_string_including_AM_PM(self, mock_datetime):
        mock_datetime.now = self.mock_datetime('2024-10-01T15:45:00').now
        result = get_time()
        self.assertRegex(result, r'^\d{1,2}:\d{2} (AM|PM)$')

    @patch('datetime.datetime', new_callable=lambda: datetime)
    def test_should_return_correct_time_during_AM_hours(self, mock_datetime):
        mock_datetime.now = self.mock_datetime('2024-10-01T08:15:00').now
        result = get_time()
        self.assertEqual(result, '08:15 AM')

    @patch('datetime.datetime', new_callable=lambda: datetime)
    def test_should_return_correct_time_during_PM_hours(self, mock_datetime):
        mock_datetime.now = self.mock_datetime('2024-10-01T17:20:00').now
        result = get_time()
        self.assertEqual(result, '05:20 PM')

    @patch('datetime.datetime', new_callable=lambda: datetime)
    def test_should_return_12_00_AM_at_midnight(self, mock_datetime):
        mock_datetime.now = self.mock_datetime('2024-10-01T00:00:00').now
        result = get_time()
        self.assertEqual(result, '12:00 AM')

    @patch('datetime.datetime', new_callable=lambda: datetime)
    def test_should_return_12_00_PM_at_noon(self, mock_datetime):
        mock_datetime.now = self.mock_datetime('2024-10-01T12:00:00').now
        result = get_time()
        self.assertEqual(result, '12:00 PM')

    @patch('datetime.datetime', new_callable=lambda: datetime)
    def test_should_handle_single_digit_minutes_correctly(self, mock_datetime):
        mock_datetime.now = self.mock_datetime('2024-10-01T09:05:00').now
        result = get_time()
        self.assertEqual(result, '09:05 AM')

if __name__ == '__main__':
    unittest.main()